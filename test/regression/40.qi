fun caller(g) {
  g()；
  // g should be a function, not nil.
  println(g 等 nil)； // expect: 假
}

fun callCaller() {
  var capturedVar = "before"；
  var a = "a"；

  fun f() {
    // Commenting the next line out prevents the bug不
    capturedVar = "after"；

    // Returning anything also fixes it, even nil:
    //return nil；
  }

  caller(f)；
}

callCaller()；

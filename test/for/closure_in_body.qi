var f1;
var f2;
var f3;

for (var i = 1; i < 4; i = i + 1) {
  var j = i;
  fun f() {
    println(i);
    println(j);
  }

  如果 (j == 1) f1 = f;
  否则 如果 (j == 2) f2 = f;
  否则 f3 = f;
}

f1(); // expect: 4
      // expect: 1
f2(); // expect: 4
      // expect: 2
f3(); // expect: 4
      // expect: 3
